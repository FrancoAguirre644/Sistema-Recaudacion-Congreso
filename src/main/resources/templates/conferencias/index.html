<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Conferencias</title>

<link rel="stylesheet" href="style.css" th:href="@{/css/bootstrap.css}">

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
	integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
	crossorigin="anonymous"></script>

<script th:src="@{/js/popper.min.js}" src="../../js/popper.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
</head>

<body>



	<button class="btn btn-info btn-add">Agregar Conferencia</button>

	<div class="card-group">
	

		<div class="card border-primary"  th:each="c : ${conferencias}"
			style="max-width: 15rem;margin-right: 20px !important;">
			<div class="card-header" th:text="${c.titulo}"></div>
			<div class="card-body text-primary">
				<h5 class="card-title">Primary card title</h5>
				<p class="card-text" th:text="${c.descripcion}"></p>
				<p class="card-text" th:text="${c.fecha}"></p>
				<p class="card-text" th:text="${c.costo}"></p>
				<a href="" class="btn btn-danger"
					th:href="@{/conferencias/delete/{id}(id=${c.idConferencia})}">Eliminar</a>
				<a class="btn btn-primary edit"
					th:href="@{/conferencias/{id}(id=${c.idConferencia})}">Editar</a>
			</div>
		</div>
	</div>
	

	<div class="form-add">
		<form action="#" method="post" th:action="@{conferencias/save}">
			<div aria-hidden="true" aria-labelledby="exampleModalLabel"
				class="modal fade" id="exampleModal-add" role="dialog" tabindex="-1">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">Update or
								Create</h5>
							<button aria-label="Close" class="close" data-dismiss="modal"
								type="button">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">

							<div class="form-group">
								<label class="col-form-label" for="name">Titulo:</label> <input
									class="form-control" id="titulo" name="titulo" type="text"
									value="" />
							</div>
							<div class="form-group">
								<label class="col-form-label" for="name">Descripcion:</label> <input
									class="form-control" id="descripcion" name="descripcion"
									type="text" value="" />
							</div>
							<div class="form-group">
								<label class="col-form-label" for="name">Fecha:</label> <input
									class="form-control" id="fecha" name="fecha" type="date"
									value="" />
							</div>
							<div class="form-group">
								<label class="col-form-label" for="name">Costo:</label> <input
									class="form-control" id="costo" name="costo" type="number"
									value="" />
							</div>

						</div>
						<div class="modal-footer">
							<button class="btn btn-secondary" data-dismiss="modal"
								type="button">Close</button>
							<input class="btn btn-primary" type="submit" value="save" />
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>

	<div class="form-update">
		<form action="#" method="post" th:action="@{conferencias/save}">
			<div aria-hidden="true" aria-labelledby="exampleModalLabel"
				class="modal fade" id="exampleModal" role="dialog" tabindex="-1">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">Update or
								Create</h5>
							<button aria-label="Close" class="close" data-dismiss="modal"
								type="button">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<input class="form-control" id="id" name="idConferencia"
								type="hidden" value="" />

							<div class="form-group">
								<label class="col-form-label" for="name">Titulo:</label> <input
									class="form-control" id="titulo" name="titulo" type="text"
									value="" />
							</div>
							<div class="form-group">
								<label class="col-form-label" for="name">Descripcion:</label> <input
									class="form-control" id="descripcion" name="descripcion"
									type="text" value="" />
							</div>
							<div class="form-group">
								<label class="col-form-label" for="name">Fecha:</label> <input
									class="form-control" id="fecha" name="fecha" type="date"
									value="" />
							</div>
							<div class="form-group">
								<label class="col-form-label" for="name">Costo:</label> <input
									class="form-control" id="costo" name="costo" type="number"
									value="" />
							</div>

						</div>
						<div class="modal-footer">
							<button class="btn btn-secondary" data-dismiss="modal"
								type="button">Close</button>
							<input class="btn btn-primary" type="submit" value="save" />
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>



	<script type="text/javascript">
        $(document).ready(function() {

            $('.card-group .edit').on('click', function(event) {
                event.preventDefault();
                var href = $(this).attr('href');

                $.get(href, function(conferencia, status) {
                    $('.form-update #id').val(conferencia.idConferencia);
                    $('.form-update #titulo').val(conferencia.titulo);
                    $('.form-update #descripcion').val(conferencia.descripcion);
                    $('.form-update #fecha').val(conferencia.fecha);
                    $('.form-update #costo').val(conferencia.costo);
                });
                $('.form-update #exampleModal').modal();

            });
			

            $('.btn-add').on('click', function(event) {
                event.preventDefault();
                $('.form-add #exampleModal-add').modal();
            });

        });
    </script>


</body>

</html>


